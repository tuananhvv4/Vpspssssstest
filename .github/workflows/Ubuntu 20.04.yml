
name: Ubuntu 20.04
run-name: Ch√†o m·ª´ng ${{ github.actor }} ƒë·∫øn v·ªõi Rinne VPS üöÄ
on:
  workflow_dispatch:
    inputs:
      ps5:
        description: 'Th√™m t√™n ng∆∞·ªùi d√πng'
        required: false
      ps:
        description: 'M·∫≠t kh·∫©u ng∆∞·ªùi d√πng'
        required: true
      os:
        description: 'Nh·∫≠p m√£ Debian Linux ·ªü Chrome Remote Desktop'
        required: true
      os2:
        description: 'Nh·∫≠p PIN (6 s·ªë tr·ªü l√™n)'
        required: true
      os4:

        description: 'C√†i g√≥i apt-get v√† apt, v√≠ d·ª• "firefox aegisub handbrake..." '

        required: false
jobs:
  Ubuntu_2004:
    timeout-minutes: 360
    runs-on: ubuntu-20.04
    steps:
    - name: T·∫£i file c·∫•u h√¨nh...
      uses: actions/checkout@v3
    - name: ƒêang x√°c nh·∫≠n m√£ Debian Linux
      run: |
           echo ƒêang ƒë·ªïi m·∫≠t kh·∫©u th√†nh: HI·ªÇN TH·ªä M·∫¨T KH·∫®U ƒê√É B·ªä XO√Å V√å L√ç DO B·∫¢O M·∫¨T
         
           sudo useradd -m runneradmin &>/dev/null &
           sudo useradd -m ${{ github.event.inputs.ps5 }} &>/dev/null &
           echo 'runneradmin:${{ github.event.inputs.ps }}' | sudo chpasswd &>/dev/null &
           sudo sed -i 's/\/bin\/sh/\/bin\/bash/g' /etc/passwd &>/dev/null &
           sudo useradd -m runner &>/dev/null &
           echo 'runner:${{ github.event.inputs.ps }}' | sudo chpasswd &>/dev/null &
           echo '${{ github.event.inputs.ps5 }}:${{ github.event.inputs.ps }}' | sudo chpasswd &>/dev/null &
           sudo sed -i 's/\/bin\/sh/\/bin\/bash/g' /etc/passwd &>/dev/null &
           echo T√™n ng∆∞·ªùi d√πng l√†: ${{ github.event.inputs.ps5 }} , runneradmin, runner
           echo M·∫≠t kh·∫©u l√†: HI·ªÇN TH·ªä M·∫¨T KH·∫®U ƒê√É B·ªä XO√Å V√å L√ç DO B·∫¢O M·∫¨T
           echo IP VPS l√†:
           curl ipconfig.me
           bash bash1.sh
           ${{ github.event.inputs.os }} --pin=${{ github.event.inputs.os2 }} &>/dev/null 
    - name: Tr∆∞·ªõc khi k·∫øt n·ªëi VPS, b·∫°n ph·∫£i ch·ªù cho √¥ n√†y ch·∫°y xong!
      run: |
           bash bash2.sh
    - name: Th√†nh c√¥ng!
      run: |
         sudo apt install {{ github.event.inputs.o4 }} -y &>/dev/null
         sudo apt-get install ${{ github.event.inputs.o4 }} -y &>/dev/null
         yes T·∫°o th√†nh c√¥ng VPS!
      timeout-minutes: 360
